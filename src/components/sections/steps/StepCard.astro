---
import { Image } from "astro:assets";

interface Props {
  index: number;
  image: {
    url: string;
    alt: string;
  };
}

const { index, image } = Astro.props;
---

<article class="step__card">
  <Image src={image.url} alt={image.alt} width={100} height={100} loading="lazy" decoding="async" />
</article>

<style is:global define:vars={{ "step-index": index }}>
  .step__card {
    transform: rotateY(calc(var(--step-index) * var(--angle-per-step) * 1deg)) translateX(-50%) translateY(-50%) translateZ(0px);
  }
</style>

<style>
  .step__card {
    position: absolute;
    top: 50%;
    left: 50%;
    display: flex;
    width: 200px;
    height: 250px;
  }

  .step__card > img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>
